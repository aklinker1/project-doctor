{
  "$id": "https://raw.githubusercontent.com/aklinker1/project-doctor/main/api/schema.json",
  "$schema": "http://json-schema.org/draft-07/schema",

  "type": "object",
  "additionalProperties": false,
  "properties": {
    "tools": {
      "type": "array",
      "items": {
        "oneOf": [
          {
            "title": "BaseTool",
            "type": "object",
            "additionalProperties": false,
            "required": ["executable", "installUrls"],
            "properties": {
              "type": {
                "type": "null"
              },
              "name": {
                "type": "string"
              },
              "executable": {
                "type": "string"
              },
              "getVersionArgs": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              "versionRegex": {
                "type": "string"
              },
              "installUrls": {
                "type": "object",
                "additionalProperties": false,
                "required": ["default"],
                "properties": {
                  "default": {
                    "type": "string"
                  },
                  "unix": {
                    "type": "string"
                  },
                  "mac": {
                    "type": "string"
                  },
                  "windows": {
                    "type": "string"
                  }
                }
              },
              "installOptions": {
                "$comment": "A map of possible executables to their arguments used to install the tool. If the key is on your path, it will be shown as an option to run",
                "type": "object",
                "additionalProperties": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                }
              },
              "changeVersions": {
                "$comment": "A map of possible executables to their arguments used to change the current version that is installed. If the key is on your path, it will be shown as an option to run",
                "type": "object",
                "additionalProperties": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                }
              }
            }
          }
        ]
      }
    }
  }
}
